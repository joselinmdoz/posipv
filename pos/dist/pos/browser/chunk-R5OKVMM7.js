import{a as v}from"./chunk-YWTIGOUW.js";import{d as S}from"./chunk-EKOQI3CN.js";import"./chunk-OGHJEGVW.js";import{b as E,c as O,d as L,j as k}from"./chunk-5CMZHIZT.js";import"./chunk-XZ3PRBQD.js";import{Aa as x,Db as P,Ea as b,Ka as m,La as e,Ma as t,N as s,Pa as C,Qa as h,Ya as n,Za as _,_a as M,ab as g,ba as p,bb as c,cb as u,pa as d,xb as y,zb as w}from"./chunk-EVJ26B7U.js";function A(l,r){if(l&1&&(e(0,"p",8),n(1),t()),l&2){let o=h();d(),_(o.error())}}var N=class l{http=s(P);auth=s(v);router=s(S);email="admin@pos.local";password="Admin123!";loading=p(!1);error=p("");login(){this.error.set(""),this.loading.set(!0),this.auth.login(this.email,this.password).subscribe({next:r=>{this.auth.setSession(r.access_token,r.user),setTimeout(()=>this.router.navigateByUrl("/dashboard"),0),this.loading.set(!1)},error:r=>{this.loading.set(!1);let o=r?.error?.message;this.error.set(Array.isArray(o)?o.join(", "):o||"No se pudo iniciar sesi\xF3n.")}})}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=x({type:l,selectors:[["ng-component"]],decls:25,vars:5,consts:[[1,"card"],[1,"muted"],[1,"grid"],["autocomplete","username","placeholder","admin@pos.local",3,"ngModelChange","ngModel"],["type","password","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],[1,"btn",3,"click","disabled"],["class","err",4,"ngIf"],[1,"hint"],[1,"err"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"h1"),n(2,"POS"),t(),e(3,"p",1),n(4,"Inicia sesi\xF3n para seleccionar caja y vender."),t(),e(5,"div",2)(6,"label")(7,"span"),n(8,"Email"),t(),e(9,"input",3),u("ngModelChange",function(a){return c(i.email,a)||(i.email=a),a}),t()(),e(10,"label")(11,"span"),n(12,"Contrase\xF1a"),t(),e(13,"input",4),u("ngModelChange",function(a){return c(i.password,a)||(i.password=a),a}),t()()(),e(14,"button",5),C("click",function(){return i.login()}),n(15),t(),b(16,A,2,1,"p",6),e(17,"details",7)(18,"summary"),n(19,"Credenciales de prueba (seed)"),t(),e(20,"code"),n(21,"admin@pos.local"),t(),n(22," / "),e(23,"code"),n(24,"Admin123!"),t()()()),o&2&&(d(9),g("ngModel",i.email),d(4),g("ngModel",i.password),d(),m("disabled",i.loading()),d(),M(" ",i.loading()?"Entrando\u2026":"Entrar"," "),d(),m("ngIf",i.error()))},dependencies:[w,y,k,E,O,L],styles:[".card[_ngcontent-%COMP%]{max-width:420px;margin:48px auto;padding:20px;border:1px solid #e6e6e6;border-radius:14px;background:#fff;box-shadow:0 8px 22px #0000000f}h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;letter-spacing:-.02em}.muted[_ngcontent-%COMP%]{margin:0 0 16px;color:#666;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:14px}label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;color:#555;margin-bottom:6px}input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #dcdcdc;outline:none}input[_ngcontent-%COMP%]:focus{border-color:#999}.btn[_ngcontent-%COMP%]{width:100%;padding:11px 12px;border-radius:10px;border:0;background:#111;color:#fff;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:default}.err[_ngcontent-%COMP%]{margin:12px 0 0;color:#b00020;font-size:13px}.hint[_ngcontent-%COMP%]{margin-top:14px;color:#444}code[_ngcontent-%COMP%]{background:#f6f6f6;padding:2px 6px;border-radius:6px}"]})};export{N as LoginComponent};
