    <div class="page">
      <div class="page-head">
        <div>
          <h1>Reporte: Ventas por producto</h1>
          <p class="muted">Agrupa las ventas por producto y separa por método de pago si el backend lo entrega.</p>
        </div>
        <button class="btn" (click)="load()">Consultar</button>
      </div>

      <div class="card">
        <div class="filters">
          <label>
            <span>Desde</span>
            <input [(ngModel)]="from" type="date" />
          </label>
          <label>
            <span>Hasta</span>
            <input [(ngModel)]="to" type="date" />
          </label>
          <label>
            <span>Caja</span>
            <select [(ngModel)]="registerId">
              <option value="">Todas</option>
              <option *ngFor="let r of registers()" [value]="r.id">{{ r.name }}</option>
            </select>
          </label>
        </div>

        <div class="muted" *ngIf="error()">Backend pendiente: <code>/api/reports/sales-by-product</code></div>

        <div class="table">
          <div class="th">
            <div>Producto</div>
            <div class="r">Cant.</div>
            <div class="r">Total</div>
            <div class="r">Efectivo</div>
            <div class="r">Transfer.</div>
          </div>

          <div class="tr" *ngFor="let l of lines()">
            <div class="name">{{ l.name }}</div>
            <div class="r">{{ l.qty }}</div>
            <div class="r">{{ money(l.total) }}</div>
            <div class="r">{{ money(l.cashTotal ?? 0) }}</div>
            <div class="r">{{ money(l.transferTotal ?? 0) }}</div>
          </div>

          <div class="empty" *ngIf="lines().length===0 && !busy()">Sin resultados.</div>
        </div>

        <div class="totals" *ngIf="lines().length">
          <div>
            <div class="muted">Total general</div>
            <div class="big">{{ money(total()) }}</div>
          </div>
          <div class="right">
            <div class="muted">Tickets / día</div>
            <div class="muted">*(puede añadirse luego)*</div>
          </div>
        </div>
      </div>
    </div>